var that=this;function __skpm_run(t,e){that.context=e;var n=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([function(t,e,n){n(24);var r=function(t){return void 0==this[t]&&(this[t]=n(25)("./"+t)),this[t]},o=function(t){return void 0==this[t]&&(this[t]=r("component/"+t)),this[t]},i=function(t){return void 0==this[t]&&(this[t]=r("property/"+t)),this[t]},s=function(t,e){for(var n in e)t[n]=e[n];return t};t.exports={const:n(26),debug:n(27),require:{alignment:function(){return function(){return r("alignment")}}(),componentFrame:function(){return function(){return r("component-frame")}}(),components:function(){return function(){return r("components")}}(),componentsFrame:function(){return function(){return r("components-frame")}}(),constraints:function(){return function(){return r("constraints")}}(),map:function(){return function(){return r("map")}}(),properties:function(){return function(){return r("properties")}}(),symbolStore:function(){return function(){return r("symbol-store")}}(),component:s(function(){return r("component")},{artboard:function(){return function(){return o("artboard")}}(),group:function(){return function(){return o("group")}}(),layer:function(){return function(){return o("layer")}}(),shape:function(){return function(){return o("shape")}}(),symbolInstance:function(){return function(){return o("symbol-instance")}}(),symbolMaster:function(){return function(){return o("symbol-master")}}(),text:function(){return function(){return o("text")}}()}),property:s(function(){return r("property")},{center:function(){return function(){return i("center")}}(),margin:function(){return function(){return i("margin")}}(),padding:function(){return function(){return i("padding")}}(),size:function(){return function(){return i("size")}}(),stack:function(){return function(){return i("stack")}}()})}}},function(t,e,n){var r=n(0),o=r.require.componentFrame(),i=r.require.constraints(),s=r.require.properties();function p(t){this._layer=t,this._frame=o.init(t),this._components=null,this._properties=null,this._constraints=null,this._parent=null}p.init=function(t){switch(String(t.class().toString())){case r.const.class.artboard:return new(r.require.component.artboard())(t);case r.const.class.group:return new(r.require.component.group())(t);case r.const.class.shape:return new(r.require.component.shape())(t);case r.const.class.symbolInstance:return new(r.require.component.symbolInstance())(t);case r.const.class.symbolMaster:return new(r.require.component.symbolMaster())(t);case r.const.class.text:return new(r.require.component.text())(t);default:return new(r.require.component.layer())(t)}},p.apply=function(t){return p.init(t).apply()},p.prototype.components=function(){if(null==this._components){var t=r.require.components();this._components=t.sub(this._layer,this)}return this._components},p.prototype.properties=function(){return null==this._properties&&(this._properties=s.init(this)),this._properties},p.prototype.constraints=function(){return null==this._constraints&&(this._constraints=i.init(this)),this._constraints},p.prototype.name=function(){return this._layer.name()},p.prototype.frame=function(){return this._frame},p.prototype.class=function(){return String(this._layer.class().toString())},p.prototype.page=function(){return this._layer.parentPage()},p.prototype.objectID=function(){return this._layer.objectID()},p.prototype.master=function(){if(this.hasMaster())return p.init(this._layer.symbolMaster())},p.prototype.isVisible=function(){return this._layer.isVisible()},p.prototype.isArtboard=function(){return this.class()==r.const.class.artboard},p.prototype.isGroup=function(){return this.class()==r.const.class.group},p.prototype.isSymbolMaster=function(){return this.class()==r.const.class.symbolMaster},p.prototype.isArtboardOrSymbolMaster=function(){return this.isArtboard()||this.isSymbolMaster()},p.prototype.shouldApply=function(){return this.isVisible()&&!r.const.properties.re.ignore.test(this.name())},p.prototype.hasComponents=function(){return this.components().count()>0},p.prototype.hasParent=function(){return void 0!=this._layer.parentGroup()},p.prototype.hasMaster=function(){return void 0!=this._layer.symbolMaster},p.prototype.parent=function(){return null==this._parent&&(this._parent=this.hasParent()?p.init(this._layer.parentGroup()):void 0),this._parent},p.prototype.leftInParent=function(t){return this.hasParent()?this.parent().isArtboardOrSymbolMaster()?0:t?this.parent().components().filterByExcludingID(this.objectID()).frame().left():this.parent().components().frame().left():0},p.prototype.topInParent=function(t){return this.hasParent()?this.parent().isArtboardOrSymbolMaster()?0:t?this.parent().components().filterByExcludingID(this.objectID()).frame().top():this.parent().components().frame().top():0},p.prototype.widthOfParent=function(t,e){return this.hasParent()?this.parent().isArtboardOrSymbolMaster()?this.parent().frame().width():t||this.parent().properties().containsKey(r.const.property.key.widthPercentage)?this.parent().widthOfParent(t,e)||this.parent().frame().width():e?this.parent().components().filterByExcludingID(this.objectID()).frame().maxWidth():this.parent().components().frame().maxWidth():0},p.prototype.heightOfParent=function(t,e){return this.hasParent()?this.parent().isArtboardOrSymbolMaster()?this.parent().frame().height():t||this.parent().properties().containsKey(r.const.property.key.heightPercentage)?this.parent().heightOfParent(t,e)||this.parent().frame().height():e?this.parent().components().filterByExcludingID(this.objectID()).frame().maxHeight():this.parent().components().frame().maxHeight():0},p.prototype.apply=function(){this.shouldApply()&&(this.debug("Component: apply:"),this.roundToPixel(),this._apply(),this.properties().apply(),this.sizeToFit())},p.prototype.sizeToFit=function(){this._sizeToFit()},p.prototype.roundToPixel=function(){this.frame().setX(this.frame().x()),this.frame().setY(this.frame().y()),this.frame().setWidth(this.frame().width()),this.frame().setHeight(this.frame().height())},p.prototype.lockConstraints=function(){this.constraints().lock()},p.prototype.unlockConstraints=function(){this.constraints().unlock()},p.prototype.debugFrame=function(){r.debug.isEnabled()&&(this._debugFrame=this.frame().toString())},p.prototype.debug=function(t){if(r.debug.isEnabled()){var e=this._debugFrame?"<"+this._debugFrame+"> -> <"+this.frame().toString()+">":"",n="<"+this.name()+"> <"+this.class()+">";r.debug(this,[t,e,n].join(" ")),this._debugFrame=void 0}},t.exports=p},function(t,e,n){var r=n(0),o=n(1),i=n(3),s=n(4);function p(t,e,n){this._layers=t||NSArray.new(),this._items=n||null,this._frame=null,this._parent=e,this._isFiltered=void 0!=n}p.prototype=Object.create(o.prototype),p.init=function(t,e,n){return new p(t,e,n)},p.apply=function(t,e){return p.init(t,e).apply()},p.sub=function(t,e){return t.layers?p.init(t.layers(),e):p.init(NSArray.new(),e)},p.items=function(t,e){for(var n=NSMutableArray.new(),r=0;r<t.length;r++)n.addObject(t[r]._layer);return p.init(n,e,t)},p.prototype.items=function(){return this._needSetup()&&this._setup(),this._items},p.prototype.frame=function(){return null==this._frame&&(this._frame=i.init(this)),this._frame},p.prototype.count=function(){return this._needSetup()&&this._setup(),this.items().length},p.prototype.objectAtIndex=function(t){return this._needSetup()&&this._setup(),this.items()[t]},p.prototype.find=function(t){for(var e=0;e<this.count();e++){var n=this.objectAtIndex(e);if(t.regexp().test(n.name()))return n}},p.prototype.findContainer=function(){return this.find(r.const.properties.re.containerName)},p.prototype.filter=function(t){var e=this.items().filter(t);return p.items(e,this.parent())},p.prototype.filterByExcludingID=function(t){return this.filter(function(e){return e.objectID()!=t})},p.prototype.containsName=function(t){return void 0!=this.find(t)},p.prototype.containsContainer=function(){return this.containsName(r.const.properties.re.containerName)},p.prototype.apply=function(){this.filter(function(t){return!t.properties().containsPercentageWidthOrHeight()})._apply(),this.filter(function(t){return t.properties().containsPercentageWidthOrHeight()})._apply()},p.prototype._apply=function(){for(var t=0;t<this.count();t++){this.objectAtIndex(t).apply()}},p.prototype.lockConstraints=function(){for(var t=0;t<this.count();t++)this.objectAtIndex(t).lockConstraints()},p.prototype.unlockConstraints=function(){for(var t=0;t<this.count();t++)this.objectAtIndex(t).unlockConstraints()},p.prototype._needSetup=function(){return null==this._items||this._layers.count()!=this._items.length},p.prototype._setup=function(){this._items=[];for(var t=0;t<this._layers.count();t++){var e=o.init(this._layers.objectAtIndex(t));this._items.push(e)}},p.prototype.components=function(){return p.init()},p.prototype.properties=function(){return this.hasParent()?this.parent().properties():s.init(this,[])},p.prototype.constraints=function(){return null},p.prototype.name=function(){return null},p.prototype.class=function(){return"Components"},p.prototype.page=function(){return null},p.prototype.objectID=function(){return null},p.prototype.master=function(){return null},p.prototype.isVisible=function(){return!0},p.prototype.isArtboard=function(){return!1},p.prototype.isGroup=function(){return!1},p.prototype.isSymbolMaster=function(){return!1},p.prototype.shouldApply=function(){return!0},p.prototype.hasComponents=function(){return!1},p.prototype.hasParent=function(){return void 0!=this.parent()},p.prototype.parent=function(){return this._parent},p.prototype.sizeToFit=function(){},t.exports=p},function(t,e,n){var r=n(0);function o(t){var e=r.require.components();this._components=t||e.init()}o.init=function(t){return new o(t)},o.prototype.toString=function(){return"{"+this.x()+","+this.y()+","+this.width()+","+this.height()+"}"},o.prototype.x=function(){return this.left()},o.prototype.y=function(){return this.top()},o.prototype.width=function(t){return this.right(t)-this.left()},o.prototype.height=function(t){return this.bottom(t)-this.top()},o.prototype.top=function(){for(var t=999999,e=0;e<this._components.count();e++){var n=this._components.objectAtIndex(e);t=Math.min(t,n.frame().top())}return 999999==t?0:t},o.prototype.right=function(t){for(var e=0,n=0;n<this._components.count();n++){var o=this._components.objectAtIndex(n);o.properties().containsKey(r.const.property.key.widthPercentage)||(t&&o.properties().containsKey(r.const.property.key.marginRight)||(e=Math.max(e,o.frame().right())))}return e},o.prototype.bottom=function(t){for(var e=0,n=0;n<this._components.count();n++){var o=this._components.objectAtIndex(n);o.properties().containsKey(r.const.property.key.heightPercentage)||(t&&o.properties().containsKey(r.const.property.key.marginBottom)||(e=Math.max(e,o.frame().bottom())))}return e},o.prototype.left=function(){for(var t=999999,e=0;e<this._components.count();e++){var n=this._components.objectAtIndex(e);t=Math.min(t,n.frame().left())}return 999999==t?0:t},o.prototype.maxWidth=function(){for(var t=0,e=0;e<this._components.count();e++){var n=this._components.objectAtIndex(e);n.properties().containsKey(r.const.property.key.widthPercentage)||(t=Math.max(t,n.frame().width()))}return t},o.prototype.maxHeight=function(){for(var t=0,e=0;e<this._components.count();e++){var n=this._components.objectAtIndex(e);n.properties().containsKey(r.const.property.key.heightPercentage)||(t=Math.max(t,n.frame().height()))}return t},o.prototype.setX=function(t){for(var e=this.left(),n=0;n<this._components.count();n++){var r=this._components.objectAtIndex(n);r.frame().setX(r.frame().x()-e+t)}},o.prototype.setY=function(t){for(var e=this.top(),n=0;n<this._components.count();n++){var r=this._components.objectAtIndex(n);r.frame().setY(r.frame().y()-e+t)}},o.prototype.setWidth=function(){},o.prototype.setHeight=function(){},t.exports=o},function(t,e,n){var r=n(0),o=r.require.property.margin(),i=r.require.property.padding(),s=r.require.property();function p(t,e){this._component=t,this._items=e||null,this._keys=null,this._types=null,this._isFiltered=void 0!=e}p.init=function(t,e){return new p(t,e)},p.items=function(t,e){return p.init(e,t)},p.prototype.toString=function(){return"<"+Object.keys(this.keys()).join(">,<")+">"},p.prototype.component=function(){return this._component},p.prototype.items=function(){return null==this._items&&this._setup(),this._items},p.prototype.keys=function(){return null==this._keys&&(this._keys=this.items().mapToDictionary(function(t){return t.key()})),this._keys},p.prototype.types=function(){return null==this._types&&(this._types=this.items().mapToDictionary(function(t){return t.type()})),this._types},p.prototype.count=function(){return this.items().length},p.prototype.objectAtIndex=function(t){return this.items()[t]},p.prototype.find=function(t){return this.keys()[t]},p.prototype.filter=function(t){var e=this.items().filter(t);return p.items(e,this.component())},p.prototype.containsKey=function(t){return t in this.keys()},p.prototype.containsType=function(t){return t in this.types()},p.prototype.containsPercentageWidthOrHeight=function(){return this.containsKey(r.const.property.key.widthPercentage)||this.containsKey(r.const.property.key.heightPercentage)},p.prototype.containsPadding=function(){return this.containsType(r.const.property.type.padding)},p.prototype.containsPaddingTopOrBottom=function(){return this.containsKey(r.const.property.key.paddingTop)||this.containsKey(r.const.property.key.paddingBottom)},p.prototype.containsPaddingRightOrLeft=function(){return this.containsKey(r.const.property.key.paddingRight)||this.containsKey(r.const.property.key.paddingLeft)},p.prototype.containsMargin=function(){return this.containsType(r.const.property.type.margin)},p.prototype.containsMarginTopOrLeft=function(){return!this.containsKey(r.const.property.key.marginRight)&&this.containsKey(r.const.property.key.marginLeft)||!this.containsKey(r.const.property.key.marginBottom)&&this.containsKey(r.const.property.key.marginTop)},p.prototype.containsMarginRightOrBottom=function(){return this.containsKey(r.const.property.key.marginRight)&&!this.containsKey(r.const.property.key.marginLeft)||this.containsKey(r.const.property.key.marginBottom)&&!this.containsKey(r.const.property.key.marginTop)},p.prototype.containsMarginTopOrBottom=function(){return this.containsKey(r.const.property.key.marginTop)||this.containsKey(r.const.property.key.marginBottom)},p.prototype.containsMarginRightOrLeft=function(){return this.containsKey(r.const.property.key.marginRight)||this.containsKey(r.const.property.key.marginLeft)},p.prototype.apply=function(){if(this._isFiltered||this.component().constraints().apply(this),this.count()>0){this.component().debug("~ Properties: apply: "+this.toString());for(var t=0;t<this.count();t++){this.objectAtIndex(t).apply(),this.component().isGroup()&&this.component().sizeToFit()}}},p.prototype.parseAndAddProperty=function(t){var e=s.parse(this.component(),t);this.addProperty(e)},p.prototype.addProperty=function(t){t&&t.isValid()&&(this._keys=null,this._types=null,this.items().push(t))},p.prototype.addZeroPadding=function(){this.addProperty(s.init(this.component(),r.const.property.key.paddingTop)),this.addProperty(s.init(this.component(),r.const.property.key.paddingRight)),this.addProperty(s.init(this.component(),r.const.property.key.paddingBottom)),this.addProperty(s.init(this.component(),r.const.property.key.paddingLeft)),this._sort()},p.prototype._raw=function(){var t=this.component().name().split(r.const.properties.re.include),e=(1==t.length?t.even():t.odd()).join(r.const.properties.sep);return e=i.modify(e),e=o.modify(e),(e=s.modify(e)).split(r.const.properties.sep)},p.prototype._setup=function(){this._items=[];for(var t=this._raw(),e=0;e<t.length;e++){var n=t[e];this.parseAndAddProperty(n)}this._sort()},p.prototype._sort=function(){if(this._items=this.items().sort(function(t,e){return r.const.properties.priority.indexOf(t.key())>r.const.properties.priority.indexOf(e.key())}),this.containsPadding()){var t=!i.isOuter(this.component());this._items=this.items().sort(function(e,n){return e.type()==r.const.property.type.padding&&n.type()==r.const.property.type.padding?0:n.type()==r.const.property.type.padding?t?1:-1:0})}},t.exports=p},function(t,e,n){var r=n(0);function o(t){this._rawValue=t}o.init=function(t){return new o(t)},o.top=function(){return o.init(r.const.alignment.rawValue.top)},o.middle=function(){return o.init(r.const.alignment.rawValue.middle)},o.bottom=function(){return o.init(r.const.alignment.rawValue.bottom)},o.left=function(){return o.init(r.const.alignment.rawValue.left)},o.center=function(){return o.init(r.const.alignment.rawValue.center)},o.right=function(){return o.init(r.const.alignment.rawValue.right)},o.prototype.rawValue=function(){return this._rawValue},o.prototype.align=function(t,e){var n=t.frame();switch(this.rawValue()){case r.const.alignment.rawValue.top:n.setY(0);break;case r.const.alignment.rawValue.middle:n.setY((e-n.height())/2);break;case r.const.alignment.rawValue.bottom:n.setY(e-n.height());break;case r.const.alignment.rawValue.left:n.setX(0);break;case r.const.alignment.rawValue.center:n.setX((e-n.width())/2);break;case r.const.alignment.rawValue.right:n.setX(e-n.width())}},t.exports=o},function(t,e,n){n(0);function r(t){this._layer=t}r.init=function(t){return new r(t)},r.prototype.toString=function(){return"{"+this.x()+","+this.y()+","+this.width()+","+this.height()+"}"},r.prototype.x=function(){return this._layer.frame().x()},r.prototype.y=function(){return this._layer.frame().y()},r.prototype.width=function(){return this._layer.frame().width()},r.prototype.height=function(){return this._layer.frame().height()},r.prototype.top=function(){return this.y()},r.prototype.right=function(){return this.x()+this.width()},r.prototype.bottom=function(){return this.y()+this.height()},r.prototype.left=function(){return this.x()},r.prototype.setX=function(t){t=Math.round(t),this.x()!=t&&this._layer.frame().setX(t)},r.prototype.setY=function(t){t=Math.round(t),this.y()!=t&&this._layer.frame().setY(t)},r.prototype.setWidth=function(t){t=Math.round(t),this.width()!=t&&this._layer.frame().setWidth(t)},r.prototype.setHeight=function(t){t=Math.round(t),this.height()!=t&&this._layer.frame().setHeight(t)},t.exports=r},function(t,e,n){var r=n(0),o=r.require.component();function i(t){o.call(this,t)}i.prototype=Object.create(o.prototype),i.prototype._apply=function(){this.properties().filter(function(t){return t.key()==r.const.property.key.widthStatic||t.key()==r.const.property.key.heightStatic}).apply(),this.components().apply()},i.prototype._sizeToFit=function(){if(this.properties().containsPadding()){for(var t=0;t<this.components().count();t++){this.components().objectAtIndex(t).properties().filter(function(t){return t.type()==r.const.property.type.margin||t.type()==r.const.property.type.size||t.type()==r.const.property.type.center}).apply()}this.properties().filter(function(t){return t.type()==r.const.property.type.margin||t.type()==r.const.property.type.size||t.type()==r.const.property.type.center}).apply()}},t.exports=i},function(t,e,n){var r=n(0).require.component();function o(t){r.call(this,t)}o.prototype=Object.create(r.prototype),o.prototype._apply=function(){this.components().apply(),this._sizeToFit()},o.prototype._sizeToFit=function(){this.debugFrame(),this._layer.resizeToFitChildrenWithOption(1),this.debug("$ GroupComponent: sizeToFit:")},t.exports=o},function(t,e,n){var r=n(0).require.component();function o(t){r.call(this,t)}o.prototype=Object.create(r.prototype),o.prototype._apply=function(){},o.prototype._sizeToFit=function(){},t.exports=o},function(t,e,n){var r=n(0),o=r.require.component(),i=r.require.components();function s(t){o.call(this,t)}s.prototype=Object.create(o.prototype),s.prototype.components=function(){return i.init()},s.prototype._apply=function(){},s.prototype._sizeToFit=function(){},t.exports=s},function(t,e,n){var r=n(0).require.component();function o(t){r.call(this,t)}o.prototype=Object.create(r.prototype),o.prototype._apply=function(){this.master().apply(),this._layer.resetSizeToMaster()},o.prototype._sizeToFit=function(){},t.exports=o},function(t,e,n){var r=n(0),o=r.require.component.artboard(),i=(r.require.component(),r.require.symbolStore());function s(t){o.call(this,t)}s.prototype=Object.create(o.prototype),s.prototype.properties=function(){var t=o.prototype.properties.call(this);return t.containsPadding()||t.addZeroPadding(),t},s.prototype.objectID=function(){return this._layer.symbolID()},s.prototype.shouldApply=function(){return o.prototype.shouldApply.call(this)&&i.sharedInstance.shouldApply(this)},t.exports=s},function(t,e,n){var r=n(0),o=r.require.component();function i(t){o.call(this,t)}i.prototype=Object.create(o.prototype),i.prototype._apply=function(){this._layer.setTextBehaviourSegmentIndex(0),this._layer.setTextBehaviourSegmentIndex(this.properties().containsType(r.const.property.type.size))},i.prototype._sizeToFit=function(){this.properties().containsKey(r.const.property.key.heightStatic)?this._layer.setVerticalAlignment(1):this._layer.adjustFrameToFit()},t.exports=i},function(t,e,n){var r=n(0);function o(t){this._component=t,this._layer=t._layer}o.init=function(t){return new o(t)},o.prototype.component=function(){return this._component},o.prototype.hasFixedWidth=function(){return this._layer.hasFixedWidth()},o.prototype.hasFixedHeight=function(){return this._layer.hasFixedHeight()},o.prototype.hasFixedTop=function(){return this._layer.hasFixedTop()},o.prototype.hasFixedRight=function(){return this._layer.hasFixedRight()},o.prototype.hasFixedBottom=function(){return this._layer.hasFixedBottom()},o.prototype.hasFixedLeft=function(){return this._layer.hasFixedLeft()},o.prototype.toString=function(){return"<{"+this.hasFixedWidth()+","+this.hasFixedHeight()+","+this.hasFixedTop()+","+this.hasFixedRight()+","+this.hasFixedBottom()+","+this.hasFixedLeft()+"}>"},o.prototype.isLocked=function(){return void 0!=this._lockedHasFixedWidth},o.prototype.setHasFixedWidth=function(t){this._layer.setHasFixedWidth(t)},o.prototype.setHasFixedHeight=function(t){this._layer.setHasFixedHeight(t)},o.prototype.setHasFixedTop=function(t){this._layer.setHasFixedTop(t)},o.prototype.setHasFixedRight=function(t){this._layer.setHasFixedRight(t)},o.prototype.setHasFixedBottom=function(t){this._layer.setHasFixedBottom(t)},o.prototype.setHasFixedLeft=function(t){this._layer.setHasFixedLeft(t)},o.prototype.apply=function(t){t&&(this.reset(),this.setHasFixedTop(t.containsKey(r.const.property.key.marginTop)||t.containsKey(r.const.property.key.paddingTop)||t.containsKey(r.const.property.key.heightPercentage)||t.containsKey(r.const.property.key.heightPercentageFull)),this.setHasFixedRight(t.containsKey(r.const.property.key.marginRight)||t.containsKey(r.const.property.key.paddingRight)||t.containsKey(r.const.property.key.widthPercentage)||t.containsKey(r.const.property.key.widthPercentageFull)),this.setHasFixedBottom(t.containsKey(r.const.property.key.marginBottom)||t.containsKey(r.const.property.key.paddingBottom)||t.containsKey(r.const.property.key.heightPercentage)||t.containsKey(r.const.property.key.heightPercentageFull)),this.setHasFixedLeft(t.containsKey(r.const.property.key.marginLeft)||t.containsKey(r.const.property.key.paddingLeft)||t.containsKey(r.const.property.key.widthPercentage)||t.containsKey(r.const.property.key.widthPercentageFull)),this.setHasFixedWidth(!(this.hasFixedRight()&&this.hasFixedLeft())),this.setHasFixedHeight(!(this.hasFixedTop()&&this.hasFixedBottom())),this.component().debug("^ Constraints: apply: "+this.toString()))},o.prototype.reset=function(){this._layer.resetConstraints()},o.prototype.lock=function(){this._lockedHasFixedWidth=this.hasFixedWidth(),this._lockedHasFixedHeight=this.hasFixedHeight(),this._lockedHasFixedTop=this.hasFixedTop(),this._lockedHasFixedRight=this.hasFixedRight(),this._lockedHasFixedBottom=this.hasFixedBottom(),this._lockedHasFixedLeft=this.hasFixedLeft(),this.reset(),this.setHasFixedWidth(!0),this.setHasFixedHeight(!0),this.setHasFixedTop(!0),this.setHasFixedLeft(!0),this.component().debug("^ Constraints: lock: "+this.toString())},o.prototype.unlock=function(){this.isLocked()&&(this.reset(),this.setHasFixedWidth(this._lockedHasFixedWidth),this.setHasFixedHeight(this._lockedHasFixedHeight),this.setHasFixedTop(this._lockedHasFixedTop),this.setHasFixedRight(this._lockedHasFixedRight),this.setHasFixedBottom(this._lockedHasFixedBottom),this.setHasFixedLeft(this._lockedHasFixedLeft),this._lockedHasFixedWidth=void 0,this._lockedHasFixedHeight=void 0,this._lockedHasFixedTop=void 0,this._lockedHasFixedRight=void 0,this._lockedHasFixedBottom=void 0,this._lockedHasFixedLeft=void 0,this.component().debug("^ Constraints: unlock: "+this.toString()))},t.exports=o},function(t,e,n){var r=n(0);function o(t){this._entries=t}function i(t,e){this._regexp=t.regexp("i"),this._value=e}o.init=function(t){return new o(t)},o.prototype.find=function(t){for(var e=0;e<this._entries.length;e++){var n=this._entries[e];if(n.regexp().test(t))return n.value()}},o.prototype.replace=function(t){for(var e=0;e<this._entries.length;e++){t=this._entries[e].replace(t)}return t},i.init=function(t,e){return new i(t,e)},i.prototype.regexp=function(){return this._regexp},i.prototype.value=function(){return this._value},i.prototype.replace=function(t){return this.test(t)?t.replace(this.regexp(),this.value()):t},i.prototype.test=function(t){return this.regexp().test(t)};var s=o.init([i.init("(c)(\\+|\\-)?\\d*",r.const.property.key.centerHorizontally),i.init("(h)",r.const.property.key.centerHorizontally),i.init("(h)(\\+|\\-)\\d+",r.const.property.key.heightAddition),i.init("(h)\\>\\d+",r.const.property.key.heightMin),i.init("(h)\\d+",r.const.property.key.heightStatic),i.init("(h)\\d+%",r.const.property.key.heightPercentage),i.init("(h)\\d+%%",r.const.property.key.heightPercentageFull),i.init("(mb|b)\\-?\\d*",r.const.property.key.marginBottom),i.init("(ml|l)\\-?\\d*",r.const.property.key.marginLeft),i.init("(mr|r)\\-?\\d*",r.const.property.key.marginRight),i.init("(mt|t)\\-?\\d*",r.const.property.key.marginTop),i.init("(pb)\\-?\\d*",r.const.property.key.paddingBottom),i.init("(pl)\\-?\\d*",r.const.property.key.paddingLeft),i.init("(pr)\\-?\\d*",r.const.property.key.paddingRight),i.init("(pt)\\-?\\d*",r.const.property.key.paddingTop),i.init("(v)",r.const.property.key.centerVertically),i.init("(v)(\\+|\\-)?\\d*",r.const.property.key.centerVertically),i.init("(w)(\\+|\\-)\\d+",r.const.property.key.widthAddition),i.init("(w)\\>\\d+",r.const.property.key.widthMin),i.init("(w)\\d+",r.const.property.key.widthStatic),i.init("(w)\\d+%",r.const.property.key.widthPercentage),i.init("(w)\\d+%%",r.const.property.key.widthPercentageFull),i.init("(x)\\-?\\d*",r.const.property.key.stackHorizontallyMiddle),i.init("(xb)\\-?\\d*",r.const.property.key.stackHorizontallyBottom),i.init("(xt)\\-?\\d*",r.const.property.key.stackHorizontallyTop),i.init("(y)\\-?\\d*",r.const.property.key.stackVerticallyCenter),i.init("(yl)\\-?\\d*",r.const.property.key.stackVerticallyLeft),i.init("(yr)\\-?\\d*",r.const.property.key.stackVerticallyRight)]),p=o.init([i.init(/[^\-\d]/g,"")]),a=o.init([i.init(/^:/,""),i.init(/:$/,""),i.init(/:{2,}/g,":")]),c=o.init([i.init(/(?:^|:)(m|margin|bg|trbl)(?:$|:)/i,":t:r:b:l:"),i.init(/(?:^|:)(tl|lt)(\d*)(?:$|:)/i,":t$2:l$2:"),i.init(/(?:^|:)(tr|rt)(\d*)(?:$|:)/i,":t$2:r$2:"),i.init(/(?:^|:)(bl|lb)(\d*)(?:$|:)/i,":b$2:l$2:"),i.init(/(?:^|:)(rb|br)(\d*)(?:$|:)/i,":r$2:b$2:")]),h=o.init([i.init(/(?:^|:)(\d+):(\d+):(\d+):(\d+)(?:$|:)/,":pt$1:pr$2:pb$3:pl$4:"),i.init(/(?:^|:)(\d+):(\d+):(\d+)(?:$|:)/,":pt$1:pr$2:pb$3:pl$2:"),i.init(/(?:^|:)(\d+):(\d+)(?:$|:)/,":pt$1:pr$2:pb$1:pl$2:"),i.init(/(?:^|:)(\d+)(?:$|:)/,":pt$1:pr$1:pb$1:pl$1:"),i.init(/(?:^|:)(p|padding)(\d*)(?:$|:)/i,":pt$2:pr$2:pb$2:pl$2:"),i.init(/(?:^|:)(prl|plr)(\d*)(?:$|:)/i,":pr$2:pl$2:"),i.init(/(?:^|:)(ptb|pbt)(\d*)(?:$|:)/i,":pt$2:pb$2:")]);t.exports={property:{keys:s,values:p,modify:{generic:a,margin:c,padding:h}}}},function(t,e,n){var r=n(0);function o(t,e,n){this._component=t,this._key=e,this._value=n||0}o.init=function(t,e,n){var o;return(o=new(r.require.property.center())(t,e,n))&&o.isValid()?o:(o=new(r.require.property.margin())(t,e,n))&&o.isValid()?o:(o=new(r.require.property.padding())(t,e,n))&&o.isValid()?o:(o=new(r.require.property.size())(t,e,n))&&o.isValid()?o:(o=new(r.require.property.stack())(t,e,n))&&o.isValid()?o:void t.debug("~ Property: invalid <"+e+"> <"+n+">")},o.parse=function(t,e){var n=o._extractKey(e||t.name()),r=o._extractValue(e||t.name());return o.init(t,n,r)},o.modify=function(t){return r.require.map().property.modify.generic.replace(t)},o.prototype.component=function(){return this._component},o.prototype.key=function(){return this._key},o.prototype.value=function(){return this._value},o.prototype.toString=function(){return"<"+this.key()+">:<"+this.value().toString()+">"},o.prototype.isValid=function(){return!1},o.prototype.apply=function(){this.component().debugFrame(),this._apply(),this.component().debug("~ Property: apply: "+this.toString())},o._extractKey=function(t){return r.require.map().property.keys.find(t)},o._extractValue=function(t){return parseInt(r.require.map().property.values.replace(t))},t.exports=o},function(t,e,n){var r=n(0),o=r.require.property();function i(t,e,n){o.call(this,t,e,n)}i.prototype=Object.create(o.prototype),i.validKeys=function(){return[r.const.property.key.centerHorizontally,r.const.property.key.centerVertically]},i.init=function(t,e,n){return o.init(t,e,n)},i.horizontally=function(t,e){return i.init(t,r.const.property.key.centerHorizontally,e)},i.vertically=function(t,e){return i.init(t,r.const.property.key.centerVertically,e)},i.prototype.type=function(){return r.const.property.type.center},i.prototype.isValid=function(){return i.validKeys().contains(this.key())},i.prototype._apply=function(){var t=this.component().frame();switch(this.key()){case r.const.property.key.centerHorizontally:var e=this.component().leftInParent(!0),n=this.component().widthOfParent(!1,!0);t.setX(e+(n-t.width())/2+(this.value()||0));break;case r.const.property.key.centerVertically:var o=this.component().topInParent(!0),i=this.component().heightOfParent(!1,!0);t.setY(o+(i-t.height())/2+(this.value()||0));break;default:return}},t.exports=i},function(t,e,n){var r=n(0),o=r.require.property();function i(t,e,n){o.call(this,t,e,n)}i.prototype=Object.create(o.prototype),i.validKeys=function(){return[r.const.property.key.marginTop,r.const.property.key.marginRight,r.const.property.key.marginBottom,r.const.property.key.marginLeft]},i.init=function(t,e,n){return o.init(t,e,n)},i.top=function(t,e){return i.init(t,r.const.property.key.marginTop,e)},i.right=function(t,e){return i.init(t,r.const.property.key.marginRight,e)},i.bottom=function(t,e){return i.init(t,r.const.property.key.marginBottom,e)},i.left=function(t,e){return i.init(t,r.const.property.key.marginLeft,e)},i.modify=function(t){return r.require.map().property.modify.margin.replace(t)},i.prototype.type=function(){return r.const.property.type.margin},i.prototype.isValid=function(){return i.validKeys().contains(this.key())},i.prototype._apply=function(){var t=this.component().frame();switch(this.key()){case r.const.property.key.marginTop:t.setY(this.value());break;case r.const.property.key.marginRight:var e=this.component().leftInParent(!0),n=this.component().widthOfParent(!1,!0);t.setX(e+n-t.width()-this.value());break;case r.const.property.key.marginBottom:var o=this.component().topInParent(!0),i=this.component().heightOfParent(!1,!0);t.setY(o+i-t.height()-this.value());break;case r.const.property.key.marginLeft:t.setX(this.value());break;default:return}},t.exports=i},function(t,e,n){var r=n(0),o=r.require.property.center(),i=r.require.property.margin(),s=r.require.property(),p=r.require.property.size();function a(t,e,n){s.call(this,t,e,n),this._isOuter=null,this._isInner=null,this._container=null,this._components=null}a.prototype=Object.create(s.prototype),a.validKeys=function(){return[r.const.property.key.paddingTop,r.const.property.key.paddingRight,r.const.property.key.paddingBottom,r.const.property.key.paddingLeft]},a.init=function(t,e,n){return s.init(t,e,n)},a.top=function(t,e){return a.init(t,r.const.property.key.paddingTop,e)},a.right=function(t,e){return a.init(t,r.const.property.key.paddingRight,e)},a.bottom=function(t,e){return a.init(t,r.const.property.key.paddingBottom,e)},a.left=function(t,e){return a.init(t,r.const.property.key.paddingLeft,e)},a.modify=function(t){return r.require.map().property.modify.padding.replace(t)},a.isOuter=function(t){return t.hasParent()&&t.parent().components().containsContainer()},a.isInner=function(t){return t.hasComponents()},a.prototype.type=function(){return r.const.property.type.padding},a.prototype.container=function(){if(null==this._container)if(this.isOuter()){var t=this.component().parent();this._container=t.components().findContainer()}else if(this.isInner())if(this.component().isArtboardOrSymbolMaster())this._container=this.component();else{var e=this.component().components().findContainer();this._container=e||this.component()}return this._container},a.prototype.components=function(){return null==this._components&&(this.isInner()&&!this.isOuter()?this._components=this.component().components().filterByExcludingID(this.container().objectID()).filter(function(t){return!t.properties().containsMarginRightOrBottom()}):this._components=this.component()),this._components},a.prototype.isValid=function(){return a.validKeys().contains(this.key())&&null!=this.container()},a.prototype.isOuter=function(){return null==this._isOuter&&(this._isOuter=a.isOuter(this.component())),this._isOuter},a.prototype.isInner=function(){return null==this._isInner&&(this._isInner=a.isInner(this.component())),this._isInner},a.prototype._apply=function(){this.components().debug("~ PaddingProperty: apply "+(this.isOuter()?"outer":"inner")+":"),this.container().isSymbolMaster()&&this.components().lockConstraints();var t=this.components().frame();switch(this.key()){case r.const.property.key.paddingTop:i.top(this.components(),this.value()).apply(),this.components().properties().containsPaddingRightOrLeft()||this.components().properties().containsMarginRightOrLeft()?this.container().isArtboardOrSymbolMaster()||i.top(this.container(),0).apply():o.horizontally(this.components()).apply();break;case r.const.property.key.paddingRight:var e=this.components().properties().find(r.const.property.key.paddingLeft);e?p.width(this.container(),t.width()+this.value()+e.value()).apply():i.right(this.components(),this.value()).apply(),this.components().properties().containsPaddingTopOrBottom()||this.components().properties().containsMarginTopOrBottom()?this.container().isArtboardOrSymbolMaster()||i.left(this.container(),0).apply():o.vertically(this.components()).apply();break;case r.const.property.key.paddingBottom:var n=this.components().properties().find(r.const.property.key.paddingTop);n?p.height(this.container(),t.height()+this.value()+n.value()).apply():i.bottom(this.components(),this.value()).apply(),this.components().properties().containsPaddingRightOrLeft()||this.components().properties().containsMarginRightOrLeft()?this.container().isArtboardOrSymbolMaster()||i.top(this.container(),0).apply():o.horizontally(this.components()).apply();break;case r.const.property.key.paddingLeft:i.left(this.components(),this.value()).apply(),this.components().properties().containsPaddingTopOrBottom()||this.components().properties().containsMarginTopOrBottom()?this.container().isArtboardOrSymbolMaster()||i.left(this.container(),0).apply():o.vertically(this.components()).apply()}this.components().unlockConstraints()},t.exports=a},function(t,e,n){var r=n(0),o=r.require.property();function i(t,e,n){o.call(this,t,e,n)}i.prototype=Object.create(o.prototype),i.validKeys=function(){return[r.const.property.key.widthStatic,r.const.property.key.widthAddition,r.const.property.key.widthPercentage,r.const.property.key.widthPercentageFull,r.const.property.key.widthMin,r.const.property.key.heightStatic,r.const.property.key.heightAddition,r.const.property.key.heightPercentage,r.const.property.key.heightPercentageFull,r.const.property.key.heightMin]},i.init=function(t,e,n){return o.init(t,e,n)},i.width=function(t,e){return i.init(t,r.const.property.key.widthStatic,e)},i.height=function(t,e){return i.init(t,r.const.property.key.heightStatic,e)},i.prototype.type=function(){return r.const.property.type.size},i.prototype.isValid=function(){return i.validKeys().contains(this.key())},i.prototype._apply=function(){var t=this.component().frame();switch(this.key()){case r.const.property.key.widthStatic:t.setWidth(this.value());break;case r.const.property.key.widthAddition:t.setWidth(t.width()+this.value());break;case r.const.property.key.widthPercentage:t.setWidth(this.value()/100*this.component().widthOfParent(!1,!0));break;case r.const.property.key.widthPercentageFull:t.setWidth(this.value()/100*this.component().widthOfParent(!0));break;case r.const.property.key.widthMin:t.setWidth(t.width()<this.value()?this.value():t.width());break;case r.const.property.key.heightStatic:t.setHeight(this.value());break;case r.const.property.key.heightAddition:t.setHeight(t.height()+this.value());break;case r.const.property.key.heightPercentage:t.setHeight(this.value()/100*this.component().heightOfParent(!1,!0));break;case r.const.property.key.heightPercentageFull:t.setHeight(this.value()/100*this.component().heightOfParent(!0));break;case r.const.property.key.heightMin:t.setHeight(t.height()<this.value()?this.value():t.height());break;default:return}},t.exports=i},function(t,e,n){var r=n(0),o=r.require.alignment(),i=r.require.property();function s(t,e,n){i.call(this,t,e,n)}s.prototype=Object.create(i.prototype),s.validKeys=function(){return[r.const.property.key.stackHorizontallyTop,r.const.property.key.stackHorizontallyMiddle,r.const.property.key.stackHorizontallyBottom,r.const.property.key.stackVerticallyLeft,r.const.property.key.stackVerticallyCenter,r.const.property.key.stackVerticallyRight]},s.init=function(t,e,n){return i.init(t,e,n)},s.prototype.isValid=function(){return s.validKeys().contains(this.key())},s.prototype.type=function(){return r.const.property.type.stack},s.prototype._apply=function(){this.component().frame();switch(this.key()){case r.const.property.key.stackHorizontallyTop:this.applyStackHorizontally(o.top());break;case r.const.property.key.stackHorizontallyMiddle:this.applyStackHorizontally(o.middle());break;case r.const.property.key.stackHorizontallyBottom:this.applyStackHorizontally(o.bottom());break;case r.const.property.key.stackVerticallyLeft:this.applyStackVertically(o.left());break;case r.const.property.key.stackVerticallyCenter:this.applyStackVertically(o.center());break;case r.const.property.key.stackVerticallyRight:this.applyStackVertically(o.right());break;default:return}},i.prototype.applyStackHorizontally=function(t){for(var e=this.component().components(),n=e.frame().maxHeight(),r=0,o=e.count()-1;o>=0;o--){var i=e.objectAtIndex(o);i.isVisible()&&(t.align(i,n),i.frame().setX(r),r+=i.frame().width()+this.value())}},i.prototype.applyStackVertically=function(t){for(var e=this.component().components(),n=e.frame().maxWidth(),r=0,o=e.count()-1;o>=0;o--){var i=e.objectAtIndex(o);i.isVisible()&&(t.align(i,n),i.frame().setY(r),r+=i.frame().height()+this.value())}},t.exports=s},function(t,e,n){n(0);function r(){this._ids=[]}r.sharedInstance=new r,r.prototype.ids=function(){return this._ids},r.prototype.containsComponent=function(t){return this.ids().includes(t.objectID())},r.prototype.shouldApply=function(t){return!t.isSymbolMaster()||(null==t.page()?(t.debug("/ SymbolStore: master is not local"),!1):this.containsComponent(t)?(t.debug("/ SymbolStore: master already applied"),!1):(this.add(t),!0))},r.prototype.add=function(t){this.ids().push(t.objectID())},r.prototype.clean=function(){this._ids=[]},t.exports=r},function(t,e,n){var r=n(0),o=n(2),i=function(t){var e=t.document,n=s(t);0==n.count()?e.showMessage("âœ‹ There are no layers in this page"):(o.apply(n),e.showMessage("ðŸ‘¾ Your design is now pixel perfect"))},s=function(t){var e=t.selection;return e&&e.count()>0?e:t.document.currentPage().layers()};t.exports={makePixelPerfect:i,makeEverythingPixelPerfect:function(t){for(var e=t.document,n=e.pages(),o=0,s=0;s<n.count();s++){var p=n.objectAtIndex(s);r.const.properties.re.ignore.test(p.name())||(e.setCurrentPage(p),p.select_byExpandingSelection(!0,!1),r.debug.isEnabled()&&print("\nPAGE: "+p.name()+"\n"),i(t),o+=1)}e.showMessage("ðŸ‘¾ "+o+" pages of your design is now pixel perfect")}}},function(t,e){Array.prototype.first=function(){if(this.length>0)return this[0]},Array.prototype.last=function(){if(this.length>0)return this[this.length-1]},Array.prototype.even=function(){for(var t=[],e=0;e<this.length;e+=2)t.push(this[e]);return t},Array.prototype.odd=function(){for(var t=[],e=1;e<this.length;e+=2)t.push(this[e]);return t},Array.prototype.prepend=function(t){this.unshift(t)},Array.prototype.append=function(t){this.push(t)},Array.prototype.contains=function(t){return this.includes(t)},Array.prototype.map=function(t){for(var e=[],n=0;n<this.length;n++)e.push(t(this[n]));return e},Array.prototype.mapToDictionary=function(t){for(var e={},n=0;n<this.length;n++){var r=this[n];e[t(r)]=r}return e},Array.prototype.unique=function(){return this.filter(function(t,e,n){return n.indexOf(t)===e})},Array.prototype.toLowerCase=function(){return this.map(function(t){return void 0==t.toLowerCase?t:t.toLowerCase()})},Math.roundWithPrecision=function(t,e){var n=this.pow(10,e||0);return this.round(t*n)/n},RegExp.prototype.regexp=function(){return this},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.regexp=function(t){return new RegExp("^"+this+"$",t)},String.prototype.repeat=function(t){for(var e="",n=0;n<(void 0==t?2:t);n++)e+=this;return e}},function(t,e,n){var r={"./alignment":5,"./alignment.js":5,"./component":1,"./component-frame":6,"./component-frame.js":6,"./component.js":1,"./component/artboard":7,"./component/artboard.js":7,"./component/group":8,"./component/group.js":8,"./component/layer":9,"./component/layer.js":9,"./component/shape":10,"./component/shape.js":10,"./component/symbol-instance":11,"./component/symbol-instance.js":11,"./component/symbol-master":12,"./component/symbol-master.js":12,"./component/text":13,"./component/text.js":13,"./components":2,"./components-frame":3,"./components-frame.js":3,"./components.js":2,"./constraints":14,"./constraints.js":14,"./map":15,"./map.js":15,"./properties":4,"./properties.js":4,"./property":16,"./property.js":16,"./property/center":17,"./property/center.js":17,"./property/margin":18,"./property/margin.js":18,"./property/padding":19,"./property/padding.js":19,"./property/size":20,"./property/size.js":20,"./property/stack":21,"./property/stack.js":21,"./symbol-store":22,"./symbol-store.js":22};function o(t){return n(i(t))}function i(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=25},function(t,e){var n=["stack-horizontally-middle","stack-horizontally-bottom","stack-horizontally-top","stack-vertically-center","stack-vertically-left","stack-vertically-right","width","width-percentage","width-percentage-full","width-addition","width-min","height","height-percentage","height-percentage-full","height-addition","height-min","center-horizontally","center-vertically","margin-right","margin-bottom","margin-top","margin-left","padding-right","padding-bottom","padding-top","padding-left"];t.exports={alignment:{rawValue:{top:"top",middle:"middle",bottom:"bottom",left:"left",center:"center",right:"right"}},properties:{re:{include:new RegExp("\\[([^\\]]+)\\]"),ignore:/\[ignore\]/i,containerName:/(bg|container)/i},priority:n,sep:":"},property:{type:{center:"center",margin:"margin",padding:"padding",size:"size",stack:"stack"},key:{widthStatic:"width",widthAddition:"width-addition",widthPercentage:"width-percentage",widthPercentageFull:"width-percentage-full",widthMin:"width-min",heightStatic:"height",heightAddition:"height-addition",heightPercentage:"height-percentage",heightPercentageFull:"height-percentage-full",heightMin:"height-min",paddingTop:"padding-top",paddingRight:"padding-right",paddingBottom:"padding-bottom",paddingLeft:"padding-left",marginTop:"margin-top",marginRight:"margin-right",marginBottom:"margin-bottom",marginLeft:"margin-left",stackHorizontallyTop:"stack-horizontally-top",stackHorizontallyMiddle:"stack-horizontally-middle",stackHorizontallyBottom:"stack-horizontally-bottom",stackVerticallyLeft:"stack-vertically-left",stackVerticallyCenter:"stack-vertically-center",stackVerticallyRight:"stack-vertically-right",centerHorizontally:"center-horizontally",centerVertically:"center-vertically"}},class:{artboard:"MSArtboardGroup",group:"MSLayerGroup",shape:"MSShapeGroup",symbolInstance:"MSSymbolInstance",symbolMaster:"MSSymbolMaster",text:"MSTextLayer"}}},function(t,e){var n=function t(e,n,o){t.isEnabled()&&print("  ".repeat(r(e)-1+(o||0))+n)};n.isEnabled=function(){return void 0!=print};var r=function t(e){var n=e.parent();return n?t(n)+1:0};t.exports=n}]);"default"===t&&"function"==typeof n?n(e):n[t](e)}that.makePixelPerfect=__skpm_run.bind(this,"makePixelPerfect"),that.onRun=__skpm_run.bind(this,"default"),that.makeEverythingPixelPerfect=__skpm_run.bind(this,"makeEverythingPixelPerfect");